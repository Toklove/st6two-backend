import{r as k,u as H,U as S,H as O,d as f,e as g,f as e,z as V,w as t,F as b,$ as L,h as B,j as a,t as r,k as o,J as C,l as v,m as E,D as F,q as j,i as I,x as M,A as q,v as z}from"./index-f1a5fda7.js";import{_ as R}from"./layout.9bfaeb2c.js";import{_ as U}from"./page-meta.c41807e0.js";import{c as A,_ as J}from"./device.b1a454d8.js";import{_ as X}from"./option.5b7bc5db.js";import{_ as G}from"./_plugin-vue_export-helper.c27b6911.js";const p={market:A([{left:10,top:24,bottom:220,width:44,height:44,type:"round"},{left:58,right:365,top:22,bottom:220,width:108,height:19,type:"rect"},{left:58,right:365,top:52,bottom:220,width:184,height:19,type:"rect"},{left:205,right:365,top:22,bottom:220,width:70,height:19,type:"rect"},{left:340,right:365,top:22,bottom:220,width:40,height:19,type:"rect"},{left:364,right:365,top:54,bottom:220,width:16,height:19,type:"rect"}])};const K={__name:"history",setup(P){const x=k([]),{t:c}=H();let m=k(!0);const d=k({page:1,max:1});function T(_){F({title:_,icon:"none"})}function $(){if(d.value.page>=d.value.max){T(c("tabBar.history.NoMoreData"));return}d.value.page++,w()}S(()=>{$()});function w(){L.get("/market/contract_order_history",d.value).then(_=>{d.value.max=_.data.last_page;const h=_.data.data.map(i=>(i.show_detail=!1,i.market.logo=L.staticUrl(i.market.logo),i));d.value.page===1?(x.value=h,m.value=!1):x.value=x.value.concat(h),m.value=!1})}return O(()=>{w()}),(_,h)=>{const i=B(j("page-meta"),U),l=I,y=M,s=z,u=B(j("fui-skeleton"),J),D=R;return f(),g(b,null,[e(i),V("div",{class:"init-top"}),e(D,{"class-name":"IndexRouter"},{default:t(()=>[e(l,{class:"px-[34px]"},{default:t(()=>[e(l,{class:"text-[45px] font-bold"},{default:t(()=>[a(r(o(c)("tabBar.history.HistoricalOrders")),1)]),_:1}),e(l,{class:"relative mt-[56px]"},{default:t(()=>[C(' v-if="!loading" '),o(m)?(f(),g(b,{key:1},[C(" v-else "),e(l,null,{default:t(()=>[e(l,{class:"relative flex flex-col rounded-[15px] row pt-[40px] px-[24px]"},{default:t(()=>[e(u,{preloadList:o(p).market,outerClass:"market-skeleton"},null,8,["preloadList"])]),_:1}),e(l,{class:"relative flex flex-col rounded-[15px] row pt-[40px] px-[24px]"},{default:t(()=>[e(u,{preloadList:o(p).market,outerClass:"market-skeleton"},null,8,["preloadList"])]),_:1}),e(l,{class:"relative flex flex-col rounded-[15px] row pt-[40px] px-[24px]"},{default:t(()=>[e(u,{preloadList:o(p).market,outerClass:"market-skeleton"},null,8,["preloadList"])]),_:1}),e(l,{class:"relative flex flex-col rounded-[15px] row pt-[40px] px-[24px]"},{default:t(()=>[e(u,{preloadList:o(p).market,outerClass:"market-skeleton"},null,8,["preloadList"])]),_:1}),e(l,{class:"relative flex flex-col rounded-[15px] row pt-[40px] px-[24px]"},{default:t(()=>[e(u,{preloadList:o(p).market,outerClass:"market-skeleton"},null,8,["preloadList"])]),_:1}),e(l,{class:"relative flex flex-col rounded-[15px] row pt-[40px] px-[24px]"},{default:t(()=>[e(u,{preloadList:o(p).market,outerClass:"market-skeleton"},null,8,["preloadList"])]),_:1}),e(l,{class:"relative flex flex-col rounded-[15px] row pt-[40px] px-[24px]"},{default:t(()=>[e(u,{preloadList:o(p).market,outerClass:"market-skeleton"},null,8,["preloadList"])]),_:1}),e(l,{class:"relative flex flex-col rounded-[15px] row pt-[40px] px-[24px]"},{default:t(()=>[e(u,{preloadList:o(p).market,outerClass:"market-skeleton"},null,8,["preloadList"])]),_:1})]),_:1})],2112)):(f(),v(l,{key:0},{default:t(()=>[o(x).length>0?(f(!0),g(b,{key:0},E(o(x),(n,N)=>(f(),v(l,{key:N,class:q([n.show_detail?"active-h":"active-l","relative flex flex-col rounded-[15px] row pt-[40px] px-[24px]"]),onClick:Q=>n.show_detail=!n.show_detail},{default:t(()=>[e(l,{class:"flex flex-row"},{default:t(()=>[e(y,{src:n.market.logo,class:"rounded-full w-[72px] h-[72px]"},null,8,["src"]),e(l,{class:"flex-1 ml-[12px]"},{default:t(()=>[e(l,{class:"grid items-center col"},{default:t(()=>[e(l,{class:"flex items-center"},{default:t(()=>[e(s,{class:"text-[30px]"},{default:t(()=>[a(r(n.market.name),1)]),_:2},1024),e(s,{class:"lever ml-[14px] text-[20px]"},{default:t(()=>[a(" x"+r(n.lever),1)]),_:2},1024)]),_:2},1024),e(s,{class:"hands text-[22px] h-[32px] grid place-items-center text-center"},{default:t(()=>[a(" 0.01 ")]),_:1}),e(s,{class:"text-[28px] text-right text-red"},{default:t(()=>[a("-6.61")]),_:1})]),_:2},1024),e(l,{class:"flex mt-[20px] items-center justify-between"},{default:t(()=>[e(l,{class:"flex items-center text-[22px]"},{default:t(()=>[e(s,null,{default:t(()=>[a(r(n.paid_price)+" -",1)]),_:2},1024),e(s,{class:"red-text"},{default:t(()=>[a("> "+r(n.close_price),1)]),_:2},1024)]),_:2},1024),e(l,{class:"font-bold text-[22px]"},{default:t(()=>[a(r(o(c)("tabBar.history.buy")),1)]),_:1})]),_:2},1024)]),_:2},1024)]),_:2},1024),e(l,{class:"stock-data mt-[40px] border-[#dadada] text-[#8c8c8c] pt-[26px] text-[22px]"},{default:t(()=>[e(l,{class:"flex items-center justify-between"},{default:t(()=>[e(l,{class:"flex items-center justify-between flex-1"},{default:t(()=>[e(s,null,{default:t(()=>[a(r(o(c)("tabBar.history.StopSurplus")),1)]),_:1}),e(s,{class:"text-black"},{default:t(()=>[a(r(n.stop_surplus),1)]),_:2},1024)]),_:2},1024),e(l,{class:"flex items-center justify-between ml-[50px] flex-1"},{default:t(()=>[e(s,null,{default:t(()=>[a(r(o(c)("tabBar.history.HandlingFees")),1)]),_:1}),e(s,{class:"text-black"},{default:t(()=>[a(r(n.all_fee),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),e(l,{class:"flex items-center justify-between mt-[12px]"},{default:t(()=>[e(l,{class:"flex items-center justify-between flex-1"},{default:t(()=>[e(s,null,{default:t(()=>[a(r(o(c)("tabBar.history.StopLoss")),1)]),_:1}),e(s,{class:"text-black"},{default:t(()=>[a(r(n.stop_loss),1)]),_:2},1024)]),_:2},1024),e(l,{class:"flex items-center justify-between ml-[50px] flex-1"},{default:t(()=>[e(s,null,{default:t(()=>[a(r(o(c)("tabBar.history.SecurityDeposit")),1)]),_:1}),e(s,{class:"text-black"},{default:t(()=>[a(r(n.assure),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),e(l,{class:"flex flex-col mt-[24px]"},{default:t(()=>[e(l,{class:"flex items-center justify-between"},{default:t(()=>[e(s,null,{default:t(()=>[a(r(o(c)("tabBar.history.OrderNumber")),1)]),_:1}),e(s,null,{default:t(()=>[a(r(n.order_num),1)]),_:2},1024)]),_:2},1024),e(l,{class:"flex items-center justify-between mt-[12px]"},{default:t(()=>[e(s,null,{default:t(()=>[a(r(o(c)("tabBar.history.OrderTime")),1)]),_:1}),e(s,null,{default:t(()=>[a(r(n.created_at),1)]),_:2},1024)]),_:2},1024),e(l,{class:"flex items-center justify-between mt-[12px]"},{default:t(()=>[e(s,null,{default:t(()=>[a(r(o(c)("tabBar.history.ClosingTime")),1)]),_:1}),e(s,null,{default:t(()=>[a("20231228120045680012ETH267680")]),_:1})]),_:1}),e(l,{class:"flex items-center justify-between mt-[12px]"},{default:t(()=>[e(s,null,{default:t(()=>[a(r(o(c)("tabBar.history.ClosingType")),1)]),_:1}),e(s,null,{default:t(()=>[a(r(o(c)("tabBar.history.ManualOperation")),1)]),_:1})]),_:1})]),_:2},1024)]),_:2},1024),e(y,{src:n.show_detail?"/static/images/icon-shangla.png":"/static/images/icon-xiala.png",class:"absolute left-[50%] bottom-[16px] cursor-pointer w-[18px] h-[18px]",style:{transform:"translateX(-50%)"}},null,8,["src"])]),_:2},1032,["class","onClick"]))),128)):(f(),v(l,{key:1,class:"nodata"},{default:t(()=>[e(y,{class:"w-[340px] h-[340px]",src:X})]),_:1}))]),_:1}))]),_:1})]),_:1})]),_:1})],64)}}},ae=G(K,[["__scopeId","data-v-ef75207a"]]);export{ae as default};

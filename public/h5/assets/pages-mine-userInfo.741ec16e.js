import{C as g,u as h,a as y,r as w,d as b,e as k,f as e,z as B,w as t,k as n,j as T,t as C,F as S,$ as i,T as V,E as $,h as D,q as F,x as N,i as U,I as E,v as P,D as q}from"./index-fcbdad1f.js";import{_ as z,l as j}from"./layout.daec25cc.js";import{_ as A}from"./page-meta.8634b088.js";import{_ as H}from"./icon-edit-avator.68ad5f80.js";import{u as K}from"./vue.f36acd1f.f8918555.js";import{_ as R}from"./_plugin-vue_export-helper.c27b6911.js";const G=g({__name:"userInfo",setup(J){const{t:u}=h();K({title:u("mine.userInfo.userInfo")});const o=y();function l(a){q({title:a,icon:"none"})}function _(){o.saveUserInfo(),i.post("/user/update",o.userInfo).then(a=>{a.code===1?l("Save success"):l("Save failed")})}function m(){V({count:1,sizeType:["original","compressed"],sourceType:["album"],async success(a){const{data:r,code:c}=await i.uploadFile("/common/upload",a.tempFilePaths[0]);c===1?o.userInfo.avatar=r.url:l("Upload failed")}})}const d=w({showTopBar:!0,topBarBgColor:"white",showTopBarBackBtn:!0,topBarTitle:"Personal information"});return $(j,d),(a,r)=>{const c=D(F("page-meta"),A),p=N,s=U,f=E,x=P,v=z;return b(),k(S,null,[e(c),B("div",{class:"init-top"}),e(v,{"class-name":"IndexRouter"},{default:t(()=>[e(s,{class:"px-[34px]"},{default:t(()=>[e(s,{class:"relative text-center"},{default:t(()=>[e(p,{src:n(o).userInfo.avatar?n(o).getAvatar():"/static/images/no-login.png",class:"w-[200px] h-[200px] rounded-full",onClick:m},null,8,["src"]),e(p,{class:"absolute right-[40%] bottom-[10px] w-[36px] h-[36px]",src:H})]),_:1}),e(s,{class:"input mt-[71px] p-[30px] rounded-[20px] bg-[#f5f7f9]"},{default:t(()=>[e(f,{modelValue:n(o).userInfo.nickname,"onUpdate:modelValue":r[0]||(r[0]=I=>n(o).userInfo.nickname=I),placeholder:"Please enter the Nickname",type:"text"},null,8,["modelValue"])]),_:1})]),_:1}),e(s,{class:"btn-wrap text-center"},{default:t(()=>[e(s,{class:"bg-black py-[33px] rounded-[20px]",onClick:_},{default:t(()=>[e(x,{class:"text-[32px] font-bold text-white"},{default:t(()=>[T(C(n(u)("mine.userInfo.Submit")),1)]),_:1})]),_:1})]),_:1})]),_:1})],64)}}});const Y=R(G,[["__scopeId","data-v-28be74fd"]]);export{Y as default};

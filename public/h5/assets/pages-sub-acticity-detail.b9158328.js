import{b as R,ai as v,aj as w,ak as m,$ as D,R as x,C as h,al as y,E as u,Q as d,d as f,l as j,w as _,j as L,k as p,e as B,f as k,J as C,am as N,an as O,ao as E,L as P}from"./index-077585d0.js";import{l as S,_ as $,d as A}from"./layout.86a0f20e.js";import{u as I}from"./vue.f36acd1f.f0eb42b1.js";import"./_plugin-vue_export-helper.c27b6911.js";function c(e){return Object.prototype.toString.call(e)}const U=e=>typeof e=="boolean",T=e=>typeof e=="number",V=e=>c(e)==="[object Object]",H=e=>c(e)==="[object Undefined]",K=e=>c(e)==="[object Null]";function M(e){return V(e)&&Object.keys(e).length===0||Array.isArray(e)&&e.length===0?!0:!!(e===""||H(e)||K(e))}function J(e){return!T(e)&&!U(e)&&M(e)}function Q(e,s,i=()=>{}){const o=s!=null?s:{},t=R({dataIsLoaded:!1,dataDetail:null,apiUrl:e,apiParams:o,needLogin:!1,isRefresh:!1});async function a(){const{code:n,data:r}=await D.get(t.apiUrl,t.apiParams);n===200?(t.dataDetail=r,t.isRefresh&&x("刷新成功!")):n===401&&(t.needLogin=!0,i()),t.dataIsLoaded=!0}return a(),v(async()=>{t.isRefresh=!0,await a(),w(),t.isRefresh=!1}),{...m(t),getData:a}}const q=h({name:"BoxRouter"}),Y=h({...q,props:{id:null},setup(e){const i=m(e),o=y(i,"id"),{dataIsLoaded:t,dataDetail:a,getData:n,apiParams:r}=Q(`/article/detail/${o.value}`);return console.log(o),console.log(r.value),u(S,d(()=>({dataIsLoaded:t.value,hasData:!J(a.value),showEmptySlot:!t.value||!a.value,topBarTitle:"详情",...N}))),u(A,async()=>{E(),await n(),P()}),I({title:d(()=>{var l;return((l=a.value)==null?void 0:l.c_title)||""})}),(l,z)=>{const g=O,b=$;return f(),j(b,{"class-name":"wrap-tab layout-img BoxRouter"},{"header-slot":_(()=>[L("header-slot 插槽")]),default:_(()=>[p(a)?(f(),B("div",{key:0,bg:"#fff","border-rd-16px":"","p-24px":""},[k(g,{nodes:p(a).c_content},null,8,["nodes"])])):C("v-if",!0)]),_:1})}}});export{Y as default};

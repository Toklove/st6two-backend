import{ac as _,a4 as h,d as c,e as d,J as m,f as y,w as k,F as u,m as w,l as x,A as b,O as f,i as v,ad as p}from"./index-f1a5fda7.js";import{_ as N}from"./_plugin-vue_export-helper.c27b6911.js";const I={name:"fui-skeleton",emits:["change"],props:{outerClass:{type:String,default:"fui-skeleton"},selector:{type:Array,default(){return["fui-round","fui-rect"]}},background:{type:String,default:"transparent"},preloadList:{type:Array,default(){return[]}},active:{type:Boolean,default:!0},theme:{type:String,default:"light"},immediate:{type:Boolean,default:!0},component:{type:Boolean,default:!1}},data(){return{isNvue:!1,stop:!1,elList:[],height:0,top:0}},created(){const s=_();this.height=s.windowHeight,this.preloadList&&this.preloadList.length>0&&(this.elList=this.preloadList)},mounted(){this.$nextTick(()=>{this.immediate&&!this.component&&this.shown()})},methods:{shown(s){this.nodesRef(this.outerClass,s).then(i=>{i&&i[0]&&(this.height=i[0].height,this.top=this.component?i[0].top:0)}),(!this.preloadList||this.preloadList.length===0)&&this.selectorQuery(s)},async selectorQuery(s){let i=this.selector||[],t=[];for(let a of i)await this.nodesRef(a,s).then(e=>{e.map(l=>{l.type=a.indexOf("round")===-1?"rect":"round"}),t=t.concat(e)});this.elList=t,this.$emit("change",{nodes:t})},async nodesRef(s,i){return await new Promise((t,a)=>{this.component?h().in(i).selectAll(`.${s}`).boundingClientRect(e=>{e?t(e):a(e)}).exec():h().selectAll(`.${s}`).boundingClientRect(e=>{e?t(e):a(e)}).exec()})}}};function L(s,i,t,a,e,l){const r=v;return c(),d(u,null,[m("本文件由FirstUI授权予南宁风吹雨网络科技有限公司（会员ID： 154  1，营业执照号：9      14501  00     M AB  NH730 9B）专用，请尊重知识产权，勿私下传播，违者追究法律责任。"),y(r,{class:"fui-skeleton__wrap",style:f({background:t.background,height:e.height+"px"}),ref:"fui_skeleton"},{default:k(()=>[(c(!0),d(u,null,w(e.elList,(n,o)=>(c(),x(r,{class:b(["fui-skeleton__item",{"fui-skeleton__dark":t.theme==="dark","fui-skeleton__dark-ani":t.active&&t.theme==="dark","fui-skeleton__light-ani":t.active&&t.theme!=="dark"}]),style:f({width:n.width+"px",height:n.height+"px",left:n.left+"px",top:n.top-e.top+"px",borderRadius:n.type==="round"?e.isNvue?n.width/2+"px":"50%":"6rpx"}),key:o},null,8,["class","style"]))),128))]),_:1},8,["style"])],2112)}const S=N(I,[["render",L],["__scopeId","data-v-387ccbc0"]]);function C(s){const i=[],e=p().windowWidth,l=p().windowHeight,r=e/430,n=l/932;return s.forEach(o=>{const g={left:Number.parseInt(o.left*r),right:Number.parseInt(o.right*r),top:Number.parseInt(o.top*n),bottom:Number.parseInt(o.bottom*n),width:Number.parseInt(o.width*r),height:Number.parseInt(o.height*n)};i.push(g)}),console.log(i),i}export{S as _,C as c};
